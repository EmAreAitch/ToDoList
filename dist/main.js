(()=>{"use strict";class t{constructor(){this.tasksList=[],this.latestTaskIndex=-1}addTask(t){let s=new e(t),i=this.tasksList.findIndex((t=>t.priority<=s.priority));-1===i?(this.tasksList.push(s),this.latestTaskIndex=this.tasksList.length-1):(this.tasksList.splice(i,0,s),this.latestTaskIndex=i)}}class e{constructor(t){this.title=t.title||"-",this.description=t.description||"-",this.dueDate=e.formatDate(t.dueDate),this.priority=+t.priority}static formatDate(t){let[e,s,i,r,a]=t.split(/[-T:]/);r=+r;let n=r<12?"AM":"PM";return r>12&&(r-=12),0===r&&(r=12),s=["January","February","March","April","May","June","July","August","September","October","November","December"][+s-1],`${s} ${i}, ${e} at ${r}:${a} ${n}`}}new class{constructor(){this.table=document.querySelector("table"),this.toDoList=new t,this.initializeEventListeners()}add(t){let e=performance.now();this.toDoList.addTask(t);let s=this.toDoList.latestTaskIndex,i=this.table.insertRow(s+1),r=i.insertCell(),a=this.toDoList.tasksList[s];for(let t in a)r=i.insertCell(),r.textContent=a[t];this.sortTable(),console.log(performance.now()-e)}sortTable(){[...this.table.rows].slice(1).forEach(((t,e)=>{t.cells[0].textContent=e+1}))}initializeEventListeners(){document.querySelector("form").addEventListener("submit",(t=>{t.preventDefault();let e={title:document.getElementById("title").value,description:document.getElementById("description").value,dueDate:document.getElementById("date").value,priority:document.getElementById("priority").value};this.add(e)}))}}})();