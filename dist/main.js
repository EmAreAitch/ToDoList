(()=>{"use strict";class t{constructor(t,e,i,r){this.title=t,this.description=e,this.dueDate=i,this.priority=+r}}class e{static priority=[Number.MAX_SAFE_INTEGER];static get options(){return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}}constructor(){this.table=document.querySelector("table"),this.initializeEventListeners()}add(t){e.priority.unshift(t.priority),e.priority.sort(((t,e)=>e-t));let i=e.priority.findIndex((e=>e<=t.priority)),r=this.table.insertRow(i),n=r.insertCell();t.dueDate=t.dueDate.toLocaleDateString("en-us",e.options);for(let e in t)n=r.insertCell(),n.textContent=t[e];this.sortTable()}sortTable(){[...this.table.rows].slice(1).forEach(((t,e)=>{t.cells[0].textContent=e+1}))}initializeEventListeners(){document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault();const i=document.getElementById("title").value,r=document.getElementById("description").value,n=new Date(document.getElementById("date").value),o=document.getElementById("priority").value,s=new t(i,r,n,o);this.add(s)}))}}new e})();